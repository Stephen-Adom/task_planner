<div class="card card-custom module-card">
  <div class="card-header card-header-tabs-line">
    <div class="card-title">
      <h3 class="card-label main-title" style="font-size: 14px">ATTACHMENTS</h3>

      <button
        type="button"
        class="btn btn-success new-attachment-btn"
        (click)="addAttachment()"
      >
        <span>
          <i class="fas fa-plus" style="font-size: 10px"></i>
        </span>
        <span>ADD ATTACHMENT</span>
      </button>
    </div>
    <div class="card-toolbar">
      <button [mat-dialog-close]="false" class="btn btn-icon">
        <i class="fas fa-times"></i>
      </button>
    </div>
  </div>
  <div class="card-body" style="padding: 23px 20px">
    <mat-dialog-content>
      <div class="container-fluid">
        <div class="row" *ngIf="Attachments.length">
          <div
            class="col-lg-6 col-12"
            *ngFor="let attachment of Attachments"
            style="margin-bottom: 15px"
          >
            <div class="card card-custom attachment-card">
              <div class="card-body">
                <div class="text-center">
                  <img
                    src="assets/images/media/default/1200px-PDF_file_icon.svg.png"
                    *ngIf="attachment.filetype === 'application/pdf'"
                    alt=""
                  />
                  <img
                    src="assets/images/media/default/word.png"
                    *ngIf="
                      attachment.filetype ===
                      'application/vnd.openxmlformats-officedocument.wordprocessingml.document'
                    "
                    alt=""
                  />
                </div>

                <span class="attachment-name">{{ attachment.name }}</span>

                <div class="d-flex justify-content-between align-items-center">
                  <span class="d-block text-muted font-weight-bold">{{
                    formateDate(attachment.createdAt)
                  }}</span>

                  <div>
                    <a
                      (click)="viewDocument(attachment.file)"
                      *ngIf="attachment.filetype === 'application/pdf'"
                      href="javascript:;"
                      class="btn btn-icon btn-sm"
                    >
                      <i
                        class="fas fa-eye text-muted"
                        style="font-size: 13px"
                      ></i>
                    </a>

                    <a
                      href="javascript:;"
                      (click)="download(attachment.file, attachment.name)"
                      class="btn btn-icon btn-sm"
                    >
                      <i
                        class="fas fa-download text-primary"
                        style="font-size: 13px"
                      ></i>
                    </a>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </mat-dialog-content>
  </div>
  <div class="card-footer d-flex justify-content-end">
    <a class="btn btn-light font-weight-bold mr-3 action-btn" (click)="close()"
      >Cancel</a
    >
  </div>
</div>
